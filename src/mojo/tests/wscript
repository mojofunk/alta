#! /usr/bin/env python
# encoding: utf-8
# Tim Mayberry, 2008

tests='''
test_session
test_sequence
test_state_tracker
test_type_system
test_graph
test_module_utils
test_project
test_app
test_audio_clip
test_filesystem_paths
test_project_directory
test_file_utils
test_archive_modules
test_audiofile_modules
test_audio_driver_modules
test_audio_effect_modules
'''.split()

def init():
	pass

def configure(conf):
	print "configure mojo tests"

def build(ctx):
	test_common = ctx(
			features = 'cxx',
			source = 'test_common.cpp',
			includes ='. ../..',
			defines = 'BOOST_TEST_DYN_LINK=1',
			uselib = 'BOOST_UNIT_TEST_FRAMEWORK',
			use = 'MOJO',
			name = 'MOJOTESTCOMMON')
	for test in tests:
		test_program = ctx(
			features = 'cxx cxxprogram',
			source = test + '.cpp',
			includes ='. ../..',
			defines = 'BOOST_TEST_DYN_LINK=1',
			uselib = 'BOOST_UNIT_TEST_FRAMEWORK',
			use = ['MOJO', 'MOJOTESTCOMMON'],
			target = test)
